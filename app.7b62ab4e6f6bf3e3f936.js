(()=>{"use strict";const e=[[{"`":{classes:["keyboard-button--symbol","keyboard-button--digit","keyboard-button--special"],eng:"`",ru:"ё",engUpper:"~",ruUpper:"Ё",keycode:192}},{1:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"1",ru:"1",engUpper:"!",ruUpper:"!",keycode:49}},{2:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"2",ru:"2",engUpper:"@",ruUpper:'"',keycode:50}},{3:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"3",ru:"3",engUpper:"#",ruUpper:"№",keycode:51}},{4:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"4",ru:"4",engUpper:"$",ruUpper:";",keycode:52}},{5:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"5",ru:"5",engUpper:"%",ruUpper:"%",keycode:53}},{6:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"6",ru:"6",engUpper:"^",ruUpper:":",keycode:54}},{7:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"7",ru:"7",engUpper:"&",ruUpper:"?",keycode:55}},{8:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"8",ru:"8",engUpper:"*",ruUpper:"*",keycode:56}},{9:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"9",ru:"9",engUpper:"(",ruUpper:"(",keycode:57}},{0:{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"0",ru:"0",engUpper:")",ruUpper:")",keycode:48}},{"-":{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"-",ru:"-",engUpper:"_",ruUpper:"_",keycode:189}},{"=":{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"=",ru:"=",engUpper:"+",ruUpper:"+",keycode:187}},{Backspace:{classes:["keyboard-button--service","keyboard-button--backspace"],eng:"Backspace",keycode:"Backspace"}}],[{Tab:{classes:["keyboard-button--service","keyboard-button--tab"],eng:"Tab",keycode:"Tab"}},{q:{classes:["keyboard-button--symbol"],eng:"q",ru:"й",engUpper:"Q",ruUpper:"Й",keycode:81}},{w:{classes:["keyboard-button--symbol"],eng:"w",ru:"ц",engUpper:"W",ruUpper:"Ц",keycode:87}},{e:{classes:["keyboard-button--symbol"],eng:"e",ru:"у",engUpper:"E",ruUpper:"У",keycode:69}},{r:{classes:["keyboard-button--symbol"],eng:"r",ru:"к",engUpper:"R",ruUpper:"К",keycode:82}},{t:{classes:["keyboard-button--symbol"],eng:"t",ru:"е",engUpper:"T",ruUpper:"Е",keycode:84}},{y:{classes:["keyboard-button--symbol"],eng:"y",ru:"н",engUpper:"Y",ruUpper:"Н",keycode:89}},{u:{classes:["keyboard-button--symbol"],eng:"u",ru:"г",engUpper:"U",ruUpper:"Г",keycode:85}},{i:{classes:["keyboard-button--symbol"],eng:"i",ru:"ш",engUpper:"I",ruUpper:"Ш",keycode:73}},{o:{classes:["keyboard-button--symbol"],eng:"o",ru:"щ",engUpper:"O",ruUpper:"Щ",keycode:79}},{p:{classes:["keyboard-button--symbol"],eng:"p",ru:"з",engUpper:"P",ruUpper:"З",keycode:80}},{"[":{classes:["keyboard-button--symbol","keyboard-button--digit","keyboard-button--special"],eng:"[",ru:"х",engUpper:"{",ruUpper:"Х",keycode:219}},{"]":{classes:["keyboard-button--symbol","keyboard-button--digit","keyboard-button--special"],eng:"]",ru:"ъ",engUpper:"}",ruUpper:"Ъ",keycode:221}},{"\\":{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"\\",ru:"\\",engUpper:"|",ruUpper:"/",keycode:220}}],[{"Caps Lock":{classes:["keyboard-button--service","keyboard-button--capslock"],eng:"Caps Lock",keycode:"CapsLock"}},{a:{classes:["keyboard-button--symbol"],eng:"a",ru:"ф",engUpper:"A",ruUpper:"Ф",keycode:65}},{s:{classes:["keyboard-button--symbol"],eng:"s",ru:"ы",engUpper:"S",ruUpper:"Ы",keycode:83}},{d:{classes:["keyboard-button--symbol"],eng:"d",ru:"в",engUpper:"D",ruUpper:"В",keycode:68}},{f:{classes:["keyboard-button--symbol"],eng:"f",ru:"а",engUpper:"F",ruUpper:"А",keycode:70}},{g:{classes:["keyboard-button--symbol"],eng:"g",ru:"п",engUpper:"G",ruUpper:"П",keycode:71}},{h:{classes:["keyboard-button--symbol"],eng:"h",ru:"р",engUpper:"H",ruUpper:"Р",keycode:72}},{j:{classes:["keyboard-button--symbol"],eng:"j",ru:"о",engUpper:"J",ruUpper:"О",keycode:74}},{k:{classes:["keyboard-button--symbol"],eng:"k",ru:"л",engUpper:"K",ruUpper:"Л",keycode:75}},{l:{classes:["keyboard-button--symbol"],eng:"l",ru:"д",engUpper:"L",ruUpper:"Д",keycode:76}},{";":{classes:["keyboard-button--symbol","keyboard-button--digit","keyboard-button--special"],eng:";",ru:"ж",engUpper:":",ruUpper:"Ж",keycode:186}},{"'":{classes:["keyboard-button--symbol","keyboard-button--digit","keyboard-button--special"],eng:"'",ru:"э",engUpper:'"',ruUpper:"Э",keycode:222}},{Enter:{classes:["keyboard-button--service","keyboard-button--enter"],eng:"Enter",keycode:"Enter"}}],[{Shift:{classes:["keyboard-button--service","keyboard-button--shiftleft","keyboard-button--shiftright"],eng:"Shift",keycode:"ShiftLeft"}},{z:{classes:["keyboard-button--symbol"],eng:"z",ru:"я",engUpper:"Z",ruUpper:"Я",keycode:90}},{x:{classes:["keyboard-button--symbol"],eng:"x",ru:"ч",engUpper:"X",ruUpper:"Ч",keycode:88}},{c:{classes:["keyboard-button--symbol"],eng:"c",ru:"с",engUpper:"C",ruUpper:"С",keycode:67}},{v:{classes:["keyboard-button--symbol"],eng:"v",ru:"м",engUpper:"V",ruUpper:"М",keycode:86}},{b:{classes:["keyboard-button--symbol"],eng:"b",ru:"и",engUpper:"B",ruUpper:"И",keycode:66}},{n:{classes:["keyboard-button--symbol"],eng:"n",ru:"т",engUpper:"N",ruUpper:"Т",keycode:78}},{m:{classes:["keyboard-button--symbol"],eng:"m",ru:"ь",engUpper:"M",ruUpper:"Ь",keycode:77}},{",":{classes:["keyboard-button--symbol","keyboard-button--digit","keyboard-button--special"],eng:",",ru:"б",engUpper:"<",ruUpper:"Б",keycode:188}},{".":{classes:["keyboard-button--symbol","keyboard-button--digit","keyboard-button--special"],eng:".",ru:"ю",engUpper:">",ruUpper:"Ю",keycode:190}},{"/":{classes:["keyboard-button--symbol","keyboard-button--digit"],eng:"/",ru:".",engUpper:"?",ruUpper:",",keycode:191}},{ArrowUp:{classes:["keyboard-button--symbol","keyboard-button--service","keyboard-button--arrowup","keyboard-button--arrow"],eng:"↑",keycode:"38"}},{Language:{classes:["keyboard-button--symbol","keyboard-button--service","keyboard-button--language"],eng:"en",ru:"ru",engUpper:"EN",ruUpper:"RU",keycode:"language"}}],[{Ctrl:{classes:["keyboard-button--service","keyboard-button--controlleft","keyboard-button--controlright"],eng:"Ctrl",keycode:"ControlLeft"}},{Win:{classes:["keyboard-button--service","keyboard-button--metaleft","keyboard-button--metaright"],eng:"Win",keycode:"MetaLeft"}},{Alt:{classes:["keyboard-button--service","keyboard-button--altleft","keyboard-button--altright"],eng:"Alt",keycode:"AltLeft"}},{Space:{classes:["keyboard-button--service","keyboard-button--space"],eng:"Space",keycode:"Space"}},{ArrowLeft:{classes:["keyboard-button--symbol","keyboard-button--service","keyboard-button--arrowleft","keyboard-button--arrow"],eng:"←",keycode:"37"}},{ArrowDown:{classes:["keyboard-button--symbol","keyboard-button--service","keyboard-button--arrowdown","keyboard-button--arrow"],eng:"↓",keycode:"40"}},{ArrowRight:{classes:["keyboard-button--symbol","keyboard-button--service","keyboard-button--arrowright","keyboard-button--arrow"],eng:"→",keycode:"39"}}]],t=(e,t)=>{const o=document.createElement("div");return o.classList.add("keyboard-row"),e.forEach((e=>{const r=e[Object.keys(e)];o.append(((e,t)=>{const o=document.createElement("div");o.classList.add("keyboard-button");const{classes:r,eng:a,ru:s,engUpper:n,ruUpper:b,keycode:d}=e;return r&&o.classList.add(...r),o.setAttribute("data-eng",a),o.setAttribute("data-engUpper",n||a),o.setAttribute("data-ru",s||a),o.setAttribute("data-ruUpper",b||a),o.setAttribute("data-keycode",d||a),o.innerText=e[t]||a,o})(r,t))})),o},o=new class{constructor(e){this.textarea=document.createElement("textarea"),this.textarea.className=e,this.value=this.textarea.value}}("keyboard-input").textarea;let r=localStorage.getItem("language")?JSON.parse(localStorage.getItem("language")):localStorage.setItem("language",JSON.stringify("eng")),a=!1,s="";document.body.append((()=>{const n=document.createElement("div");var b;n.classList.add("keyboard"),n.append(o),b=r,e.forEach((e=>{n.append(t(e,b))}));const d=e=>{o.setRangeText(e,o.selectionStart,o.selectionEnd,"end")},u=e=>{document.querySelectorAll(".keyboard-button--symbol").forEach((t=>{const o=t;t.classList.contains("keyboard-button--digit")||(o.textContent=t.dataset[e]),t.classList.contains("keyboard-button--special")&&("ruupper"===e?o.textContent=t.dataset.ruupper:"ru"===e&&(o.textContent=t.dataset.ru))}))},c=e=>{o.focus(),document.querySelectorAll(".keyboard-button--symbol").forEach((t=>{if(e.keyCode===+t.dataset.keycode||e===t.dataset.keycode){if(e.keyCode&&e.preventDefault(),t.classList.add("keyboard-button--pressed"),65===e.keyCode&&e.ctrlKey)return void o.select();const r=o.selectionStart,a=o.selectionEnd,n=o.value.substring(r,a);if(88===e.keyCode&&e.ctrlKey){const e=o.value.split("");return e.splice(r,a),o.value=e.join(""),s=n,navigator.clipboard.writeText(n),o.selectionStart=r,void(o.selectionEnd=r)}if(67===e.keyCode&&e.ctrlKey)return s=n,void navigator.clipboard.writeText(n);if(86===e.keyCode&&e.ctrlKey)return void d(s);if("language"===t.dataset.keycode)return;d(t.textContent)}}))},y=(e,t)=>{if(o.focus(),t.preventDefault(),t.ctrlKey&&t.altKey||"language"===e){if(t.shiftKey)return;"eng"===r||"engupper"===r?(r="ru",localStorage.setItem("language",JSON.stringify(r))):(r="eng",localStorage.setItem("language",JSON.stringify(r))),a&&(r+="upper"),document.querySelectorAll(".keyboard-button--digit").forEach((e=>{const t=e,o=JSON.parse(localStorage.getItem("language"));t.textContent=e.dataset[o]})),u(r)}if("ShiftLeft"===e||"ShiftRight"===e){if(t.repeat)return;r||(r="eng"),r=a?r.replace("upper",""):`${r}upper`,document.querySelectorAll(".keyboard-button--digit").forEach((e=>{const t=e,o=JSON.parse(localStorage.getItem("language"));t.textContent=e.dataset[`${o}upper`]})),u(r)}if("Tab"===e&&d("\t"),"Space"===e&&d(" "),"Enter"===e&&d("\n"),"CapsLock"!==e)"Backspace"===e&&(()=>{const e=o.selectionStart,t=o.selectionEnd;if(!o.setRangeText)return;if(e>=t){if(e<=0||!o.setSelectionRange)return;o.setSelectionRange(e-1,e)}o.setRangeText("");const r=document.createEvent("HTMLEvents");r.initEvent("input",!0,!1),o.dispatchEvent(r)})(),document.querySelectorAll(".keyboard-button--service").forEach((t=>{t.classList.contains(`keyboard-button--${e.toLowerCase()}`)&&document.querySelector(`.keyboard-button--${e.toLowerCase()}`).classList.add("keyboard-button--pressed")}));else{if(t.repeat)return;(e=>{a=!a,document.querySelector(".keyboard-button--capslock").classList.toggle("keyboard-button--pressed"),r=e.shiftKey?a?r.replace("upper",""):`${r}upper`:a?`${r}upper`:r.replace("upper",""),u(r)})(t)}},p=(e,t)=>{if("Shift"===t.key||"ShiftLeft"===e){if(t.repeat)return;r=a?`${r}upper`:r.replace("upper",""),document.querySelectorAll(".keyboard-button--digit").forEach((e=>{const t=e,o=JSON.parse(localStorage.getItem("language"));t.textContent=e.dataset[o]})),u(r)}"CapsLock"!==e&&document.querySelectorAll(".keyboard-button--service").forEach((t=>{t.classList.contains(`keyboard-button--${e.toLowerCase()}`)&&document.querySelector(`.keyboard-button--${e.toLowerCase()}`).classList.remove("keyboard-button--pressed")}))};return n.addEventListener("mousedown",(e=>{e.target.classList.contains("keyboard-button--symbol")&&c(e.target.dataset.keycode),e.target.classList.contains("keyboard-button--service")&&y(e.target.dataset.keycode,e)})),n.addEventListener("mouseup",(e=>{e.target.classList.contains("keyboard-button--symbol")&&e.target.classList.remove("keyboard-button--pressed"),e.target.classList.contains("keyboard-button--service")&&p(e.target.dataset.keycode,e)})),n.addEventListener("mouseover",(e=>{e.target.classList.contains("keyboard-button")&&e.target.classList.add("keyboard-button--active")})),n.addEventListener("mouseout",(e=>{e.target.classList.contains("keyboard-button--capslock")?e.target.classList.remove("keyboard-button--active"):e.target.classList.contains("keyboard-button")&&(e.target.classList.remove("keyboard-button--active"),e.target.classList.remove("keyboard-button--pressed"))})),document.body.addEventListener("keydown",(e=>c(e))),document.body.addEventListener("keydown",(e=>y(e.code,e))),document.body.addEventListener("keyup",(e=>(e=>{e.preventDefault(),document.querySelectorAll(".keyboard-button--symbol").forEach((t=>{e.keyCode===Number(t.dataset.keycode)&&t.classList.remove("keyboard-button--pressed")}))})(e))),document.body.addEventListener("keyup",(e=>p(e.code,e))),n})()),document.body.append((()=>{const e=document.createElement("div"),t=document.createElement("p"),o=document.createElement("p");return e.className="info",t.textContent="Windows OS",o.textContent="To switch between keyboard layouts press Ctrl + Alt",e.append(t,o),e})())})();